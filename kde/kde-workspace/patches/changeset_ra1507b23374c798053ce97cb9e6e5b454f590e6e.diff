commit a1507b23374c798053ce97cb9e6e5b454f590e6e
Author: Thomas LÃ¼bking <thomas.luebking@gmail.com>
Date:   Tue Oct 15 00:43:41 2013 +0200

    do not create window pixmap for Deleted windows
    
    related black window issues
    
    BUG: 325939
    FIXED-IN: 4.11.3

diff --git a/kwin/scene.cpp b/kwin/scene.cpp
index 6ed85dc..37f2b84 100644
--- a/kwin/scene.cpp
+++ b/kwin/scene.cpp
@@ -850,7 +850,7 @@ WindowPixmap::~WindowPixmap()
 
 void WindowPixmap::create()
 {
-    if (isValid()) {
+    if (isValid() || toplevel()->isDeleted()) {
         return;
     }
     XServerGrabber grabber();
