commit 15b5220cefc53321a3f82035ecc1399761595ed7
Author: Cedric Bellegarde <gnumdk@gmail.com>
Date:   Mon Mar 4 10:29:28 2013 +0100

    BUG: 315656 Do not check for active item if mouse position unchanged

diff --git a/appmenu/menuwidget.cpp b/appmenu/menuwidget.cpp
index dafac82..a2f287b 100644
--- a/appmenu/menuwidget.cpp
+++ b/appmenu/menuwidget.cpp
@@ -42,6 +42,7 @@ MenuWidget::MenuWidget(QGraphicsView *view) :
     m_layout(new QGraphicsLinearLayout(this)),
     m_currentButton(0),
     m_contentBottomMargin(0),
+    m_mousePosition(-1, -1),
     m_visibleMenu(0),
     m_menu(0)
 {
@@ -166,11 +167,19 @@ void MenuWidget::slotCheckActiveItem()
     QPoint pos =  m_view->mapFromGlobal(QCursor::pos());
     QGraphicsItem* item = m_view->itemAt(pos);
 
-    if (item)
+    if (pos == m_mousePosition) {
+        return;
+    } else {
+        m_mousePosition = pos;
+    }
+
+    if (item) {
         buttonBelow = qobject_cast<MenuButton*>(item->toGraphicsObject());
+    }
 
-    if (!buttonBelow)
+    if (!buttonBelow) {
         return;
+    }
 
     if (buttonBelow != m_currentButton) {
         if (m_currentButton) {
diff --git a/appmenu/menuwidget.h b/appmenu/menuwidget.h
index 972495d..1f47a83 100644
--- a/appmenu/menuwidget.h
+++ b/appmenu/menuwidget.h
@@ -135,6 +135,7 @@ private:
     QList<MenuButton*> m_buttons;
     MenuButton *m_currentButton;
     qreal m_contentBottomMargin;
+    QPoint m_mousePosition;
     QMenu *m_visibleMenu;
     QMenu *m_menu;
 };
