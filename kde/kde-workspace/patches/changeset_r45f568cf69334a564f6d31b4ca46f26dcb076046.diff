commit 45f568cf69334a564f6d31b4ca46f26dcb076046
Author: Thomas LÃ¼bking <thomas.luebking@gmail.com>
Date:   Sun Apr 14 09:44:36 2013 +0200

    don't setMaximize if whe only want changeMaximize
    
    BUG: 318275
    FIXED-IN: 4.10.3
    REVIEW: 110006

diff --git a/kwin/geometry.cpp b/kwin/geometry.cpp
index f0e8c3d..5a0eae1 100644
--- a/kwin/geometry.cpp
+++ b/kwin/geometry.cpp
@@ -2643,8 +2643,9 @@ void Client::finishMoveResize(bool cancel)
                                     moveResizeGeom.width() != initialMoveResizeGeom.width();
             const bool restoreV = maximizeMode() == MaximizeVertical &&
                                     moveResizeGeom.height() != initialMoveResizeGeom.height();
-            if (restoreH || restoreV) // NOT setMaximize(restoreH, restoreV); !
-                setMaximize(false, false);
+            if (restoreH || restoreV) {
+                changeMaximize(restoreV, restoreH, false);
+            }
         }
         setGeometry(moveResizeGeom);
     }
