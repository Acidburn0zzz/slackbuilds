From 61c81131867af964496780cbc0adda4bfc55c7cf Mon Sep 17 00:00:00 2001
From: Luigi Toscano <luigi.toscano@tiscali.it>
Date: Mon, 14 Oct 2013 19:36:20 +0200
Subject: [PATCH 10/12] Enable translation functions for js/QScriptEngine
 scripts

REVIEW: 113218
---
 kross/qts/main.cpp   | 1 +
 kross/qts/script.cpp | 1 +
 2 files changed, 2 insertions(+)

diff --git a/kross/qts/main.cpp b/kross/qts/main.cpp
index 041c306..f40c044 100644
--- a/kross/qts/main.cpp
+++ b/kross/qts/main.cpp
@@ -83,6 +83,7 @@ int main(int argc, char **argv)
 
     app = new KApplication( /* GUIenabled */ true );
     QScriptEngine* engine = new QScriptEngine();
+    engine->installTranslatorFunctions();
     QScriptValue global = engine->globalObject();
 
     //qDebug()<<"QLibraryInfo::PluginsPath="<<QLibraryInfo::location(QLibraryInfo::PluginsPath);
diff --git a/kross/qts/script.cpp b/kross/qts/script.cpp
index 41d46b2..1cee907 100644
--- a/kross/qts/script.cpp
+++ b/kross/qts/script.cpp
@@ -48,6 +48,7 @@ namespace Kross {
 
                 delete m_engine;
                 m_engine = new QScriptEngine();
+                m_engine->installTranslatorFunctions();
 
                 // load the Kross QScriptExtensionPlugin plugin that provides
                 // us a bridge between Kross and QtScript. See here plugin.h
-- 
1.8.3.1

