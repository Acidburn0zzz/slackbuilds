#
# Description: Fix encoding
# Forwarded: Yes
# Bug: N/A
# Author: nlecureuil@mandriva.com and faure@kde.org
#

Index: kreadconfig/kreadconfig.cpp
===================================================================
--- kreadconfig/kreadconfig.cpp
+++ kreadconfig/kreadconfig.cpp	2010-04-30 23:04:15.000000000 +0200
@@ -59,6 +59,8 @@
 	aboutData.addAuthor(ki18n("Bernhard Rosenkraenzer"), KLocalizedString(), "bero@redhat.com");
 	KCmdLineArgs::init(argc, argv, &aboutData);
 
+    QCoreApplication app(argc, argv);
+
 	KCmdLineOptions options;
 	options.add("file <file>", ki18n("Use <file> instead of global config"));
 	options.add("group <group>", ki18n("Group to look in. Use repeatedly for nested groups."), "KDE");
Index: kreadconfig/kwriteconfig.cpp
===================================================================
--- kreadconfig/kwriteconfig.cpp
+++ kreadconfig/kwriteconfig.cpp	2010-04-30 23:04:39.000000000 +0200
@@ -41,6 +41,8 @@
 	aboutData.addAuthor(ki18n("Bernhard Rosenkraenzer"), ki18n("Wrote kreadconfig on which this is based"), "bero@redhat.com");
 	KCmdLineArgs::init(argc, argv, &aboutData);
 
+    QCoreApplication app(argc, argv);
+
 	KCmdLineOptions options;
 	options.add("file <file>", ki18n("Use <file> instead of global config"));
 	options.add("group <group>", ki18n("Group to look in. Use repeatedly for nested groups."), "KDE");
