--- rarpd.c.orig	2010-05-15 10:55:48.205102863 -0300
+++ rarpd.c	2010-05-15 10:57:03.133106157 -0300
@@ -674,7 +674,8 @@
 			exit(1);
 		}
 
-		chdir("/");
+		if (chdir("/"))
+			exit(1);
 		fd = open("/dev/null", O_RDWR);
 		if (fd >= 0) {
 			dup2(fd, 0);
