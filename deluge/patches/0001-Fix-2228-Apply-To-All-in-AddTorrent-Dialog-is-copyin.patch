From b50c848054902bcabf30b134cdb881d1a4c22b08 Mon Sep 17 00:00:00 2001
From: Vincent Castellano <surye@datamachine.net>
Date: Mon, 3 Dec 2012 23:06:25 -0800
Subject: [PATCH 1/4] Fix #2228 : Apply-To-All in AddTorrent Dialog is copying
 file renames to other torrents

---
 deluge/ui/gtkui/addtorrentdialog.py | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/deluge/ui/gtkui/addtorrentdialog.py b/deluge/ui/gtkui/addtorrentdialog.py
index 2981087..3283cef 100644
--- a/deluge/ui/gtkui/addtorrentdialog.py
+++ b/deluge/ui/gtkui/addtorrentdialog.py
@@ -805,14 +805,15 @@ def _on_button_apply_clicked(self, widget):
 
         self.save_torrent_options(row)
 
-        # The options we want all the torrents to have
-        options = self.options[model.get_value(row, 0)]
+        # The options, except file renames, we want all the torrents to have
+        options = self.options[model.get_value(row, 0)].copy()
+        del options["mapped_files"]
 
         # Set all the torrent options
         row = model.get_iter_first()
         while row != None:
             torrent_id = model.get_value(row, 0)
-            self.options[torrent_id] = options
+            self.options[torrent_id].update(options)
             row = model.iter_next(row)
 
     def _on_button_revert_clicked(self, widget):
-- 
1.8.0.2

