From bd5ce8e9fc10a593822344c098ccbe8c47fe34e9 Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Fri, 23 Nov 2012 16:33:39 +0100
Subject: [PATCH 2/2] timedatectl: show both current actual timezone name and
 UTC distance in TImezone field

---
 src/timedate/timedatectl.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/src/timedate/timedatectl.c b/src/timedate/timedatectl.c
index e17f631..d379bcc 100644
--- a/src/timedate/timedatectl.c
+++ b/src/timedate/timedatectl.c
@@ -145,10 +145,9 @@ static void print_status_info(StatusInfo *i) {
         }
 
         zero(tm);
-        assert_se(strftime(a, sizeof(a), "%z", localtime_r(&sec, &tm)) > 0);
+        assert_se(strftime(a, sizeof(a), "%Z, %z", localtime_r(&sec, &tm)) > 0);
         char_array_0(a);
-        printf("        Timezone: %s\n"
-               "      UTC offset: %s\n"
+        printf("        Timezone: %s (%s)\n"
                "     NTP enabled: %s\n"
                "NTP synchronized: %s\n"
                " RTC in local TZ: %s\n",
-- 
1.8.0

