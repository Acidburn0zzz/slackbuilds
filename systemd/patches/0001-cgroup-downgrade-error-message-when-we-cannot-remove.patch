From 376dd21dc0757e8a6d3f60d6d21bb802a90f1983 Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Wed, 10 Jul 2013 02:01:29 +0200
Subject: [PATCH] cgroup: downgrade error message when we cannot remove a
 cgroup to debug
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Some units set KillMode=none to survive the initrdâ†’rootfs transition. We
cannot remove their cgroups, but that shouldn't really be considered an
issue, so let's downgrade the error message.
---
 src/core/cgroup.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/core/cgroup.c b/src/core/cgroup.c
index c7f1e77..b5d1347 100644
--- a/src/core/cgroup.c
+++ b/src/core/cgroup.c
@@ -533,7 +533,7 @@ void unit_destroy_cgroup(Unit *u) {
 
         r = cg_trim_with_mask(u->cgroup_mask, u->cgroup_path, true);
         if (r < 0)
-                log_error("Failed to destroy cgroup %s: %s", u->cgroup_path, strerror(-r));
+                log_debug("Failed to destroy cgroup %s: %s", u->cgroup_path, strerror(-r));
 
         hashmap_remove(u->manager->cgroup_unit, u->cgroup_path);
 
-- 
1.8.3.2

