diff -rupN hydrogen-0.9.4.old/libs/hydrogen/src/IO/portmidi_driver.cpp hydrogen-0.9.4.new/libs/hydrogen/src/IO/portmidi_driver.cpp
--- hydrogen-0.9.4.old/libs/hydrogen/src/IO/portmidi_driver.cpp	2009-07-14 21:10:17.000000000 -0400
+++ hydrogen-0.9.4.new/libs/hydrogen/src/IO/portmidi_driver.cpp	2010-01-30 01:47:50.000000000 -0500
@@ -31,7 +31,7 @@
 #ifdef PORTMIDI_SUPPORT
 
 #include <porttime.h>
-#define TIME_PROC ((long (*)(void *)) Pt_Time)
+#define TIME_PROC ((int32_t (*)(void *)) Pt_Time)
 #define TIME_START Pt_Start(1, 0, 0) /* timer started w/millisecond accuracy */
 
 #include <pthread.h>
@@ -47,7 +47,7 @@ void* PortMidiDriver_thread( void* param
 	_INFOLOG( "PortMidiDriver_thread starting" );
 
 	PmError status;
-	PmError length;
+	int length;
 	PmEvent buffer[1];
 	while ( instance->m_bRunning ) {
 		status = Pm_Poll( instance->m_pMidiIn );
diff -rupN hydrogen-0.9.4.old/Sconstruct hydrogen-0.9.4.new/Sconstruct
--- hydrogen-0.9.4.old/Sconstruct	2009-09-07 17:31:13.000000000 -0400
+++ hydrogen-0.9.4.new/Sconstruct	2010-01-30 01:48:01.000000000 -0500
@@ -265,7 +265,6 @@ def get_hydrogen_gui( lib_hydrogen , opt
 	if str(env['portaudio']) == "1": env.Append( LIBS = [ "portaudio" ] )
 	if str(env['portmidi']) == "1":
 		env.Append( LIBS = [ "portmidi" ] )
-		env.Append( LIBS = [ "porttime" ] )
 	if str(env['lash']) == "1":
 	        env.ParseConfig('pkg-config --cflags --libs lash-1.0')
 
