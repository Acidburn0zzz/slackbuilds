From 43782566c57ba72fbbf63135b5f67c077d038e32 Mon Sep 17 00:00:00 2001
From: Andreas Schwab <schwab@redhat.com>
Date: Mon, 18 Jan 2010 08:38:18 -0800
Subject: [PATCH 15/16] Remove duplicate definitions of O_DSYNC and O_RSYNC for Linux/sparc.
 (cherry picked from commit f87d0dac8b79920b34f0a7878d2be711a7cdf537)

---
 ChangeLog                                  |    3 +++
 sysdeps/unix/sysv/linux/sparc/bits/fcntl.h |    8 --------
 2 files changed, 3 insertions(+), 8 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 6708a6f..e981deb 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,5 +1,8 @@
 2010-01-18  Andreas Schwab  <schwab@redhat.com>
 
+	* sysdeps/unix/sysv/linux/sparc/bits/fcntl.h: Remove duplicate
+	definitions of O_DSYNC and O_RSYNC.
+
 	* elf/dynamic-link.h (elf_get_dynamic_info): Use correct type when
 	casting d_tag.
 
diff --git a/sysdeps/unix/sysv/linux/sparc/bits/fcntl.h b/sysdeps/unix/sysv/linux/sparc/bits/fcntl.h
index c781d35..cbab730 100644
--- a/sysdeps/unix/sysv/linux/sparc/bits/fcntl.h
+++ b/sysdeps/unix/sysv/linux/sparc/bits/fcntl.h
@@ -68,14 +68,6 @@
 # define O_RSYNC	O_SYNC	/* Synchronize read operations.  */
 #endif
 
-/* For now Linux has synchronisity options for data and read operations.
-   We define the symbols here but let them do the same as O_SYNC since
-   this is a superset.  */
-#if defined __USE_POSIX199309 || defined __USE_UNIX98
-# define O_DSYNC        O_SYNC  /* Synchronize data.  */
-# define O_RSYNC        O_SYNC  /* Synchronize read operations.  */
-#endif
-
 /* Values for the second argument to `fcntl'.  */
 #define F_DUPFD		0	/* Duplicate file descriptor.  */
 #define F_GETFD		1	/* Get file descriptor flags.  */
-- 
1.7.0

