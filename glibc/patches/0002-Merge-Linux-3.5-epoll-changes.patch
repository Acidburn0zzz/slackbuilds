From f8d44fdc72253347dae69fd2c4a231efba4fec98 Mon Sep 17 00:00:00 2001
From: Andreas Jaeger <aj@suse.de>
Date: Thu, 26 Jul 2012 13:11:33 +0200
Subject: [PATCH 2/3] Merge Linux 3.5 epoll changes

Add EPOLLWAKEUP.
---
 ports/ChangeLog.hppa                           | 5 +++++
 ports/sysdeps/unix/sysv/linux/hppa/sys/epoll.h | 4 +++-
 sysdeps/unix/sysv/linux/sys/epoll.h            | 2 ++
 3 files changed, 10 insertions(+), 1 deletion(-)

diff --git a/sysdeps/unix/sysv/linux/sys/epoll.h b/sysdeps/unix/sysv/linux/sys/epoll.h
index a55ebad..6c2f10a 100644
--- a/sysdeps/unix/sysv/linux/sys/epoll.h
+++ b/sysdeps/unix/sysv/linux/sys/epoll.h
@@ -61,6 +61,8 @@ enum EPOLL_EVENTS
 #define EPOLLHUP EPOLLHUP
     EPOLLRDHUP = 0x2000,
 #define EPOLLRDHUP EPOLLRDHUP
+    EPOLLWAKEUP = 1u << 29,
+#define EPOLLWAKEUP EPOLLWAKEUP
     EPOLLONESHOT = 1u << 30,
 #define EPOLLONESHOT EPOLLONESHOT
     EPOLLET = 1u << 31
-- 
1.7.11.3

