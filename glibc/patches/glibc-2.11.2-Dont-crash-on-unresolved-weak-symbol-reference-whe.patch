X-Git-Url: http://sourceware.org/git/?p=glibc.git;a=blobdiff_plain;f=elf%2Fdl-runtime.c;h=6847edafc6940e849e1bc340163e150e901fc6af;hp=181af7dfac64122b80839c6be48c2a2f8d798185;hb=4d4e902530cad7cd18570ad4b7bd7f31b33cce28;hpb=d0d308e32b10a0776c6b7d5748b96bb5a9076f96

diff --git a/elf/dl-runtime.c b/elf/dl-runtime.c
index 181af7d..6847eda 100644
--- a/elf/dl-runtime.c
+++ b/elf/dl-runtime.c
@@ -232,8 +232,9 @@ _dl_profile_fixup (
 				       ? LOOKUP_VALUE_ADDRESS (result)
 					 + defsym->st_value : 0);
 
-	  if (__builtin_expect (ELFW(ST_TYPE) (defsym->st_info)
-				== STT_GNU_IFUNC, 0))
+	  if (defsym != NULL
+	      && __builtin_expect (ELFW(ST_TYPE) (defsym->st_info)
+				   == STT_GNU_IFUNC, 0))
 	    value = ((DL_FIXUP_VALUE_TYPE (*) (void))
 		     DL_FIXUP_VALUE_ADDR (value)) ();
 	}
