--- src/ffaudio/ffaudio-core.c.ffmpeg	2012-02-01 18:47:18.479279152 -0200
+++ src/ffaudio/ffaudio-core.c	2012-02-01 18:47:35.148739213 -0200
@@ -461,10 +461,10 @@ static gboolean ffaudio_play (InputPlayb
     codec_opened = TRUE;
 
     switch (c->sample_fmt) {
-        case SAMPLE_FMT_U8: out_fmt = FMT_U8; break;
-        case SAMPLE_FMT_S16: out_fmt = FMT_S16_NE; break;
-        case SAMPLE_FMT_S32: out_fmt = FMT_S32_NE; break;
-        case SAMPLE_FMT_FLT: out_fmt = FMT_FLOAT; break;
+        case AV_SAMPLE_FMT_U8: out_fmt = FMT_U8; break;
+        case AV_SAMPLE_FMT_S16: out_fmt = FMT_S16_NE; break;
+        case AV_SAMPLE_FMT_S32: out_fmt = FMT_S32_NE; break;
+        case AV_SAMPLE_FMT_FLT: out_fmt = FMT_FLOAT; break;
     default:
         fprintf (stderr, "ffaudio: Unsupported audio format %d\n", (int) c->sample_fmt);
         goto error_exit;
