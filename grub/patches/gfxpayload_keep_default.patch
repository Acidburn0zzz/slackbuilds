--- grub-1.99~rc2/util/grub.d/10_linux.in.pdeb	2011-04-22 14:19:26.000000000 -0300
+++ grub-1.99~rc2/util/grub.d/10_linux.in	2011-04-22 14:21:31.876092346 -0300
@@ -77,17 +77,7 @@ linux_entry ()
 
   # Use ELILO's generic "efifb" when it's known to be available.
   # FIXME: We need an interface to select vesafb in case efifb can't be used.
-  if [ "x$GRUB_GFXPAYLOAD_LINUX" = x ]; then
-      cat << EOF
-	load_video
-EOF
-      if grep -qx "CONFIG_FB_EFI=y" "${config}" 2> /dev/null \
-	  && grep -qx "CONFIG_VT_HW_CONSOLE_BINDING=y" "${config}" 2> /dev/null; then
-	  cat << EOF
-	set gfxpayload=keep
-EOF
-      fi
-  else
+  if [ "x$GRUB_GFXPAYLOAD_LINUX" != x ]; then
       if [ "x$GRUB_GFXPAYLOAD_LINUX" != xtext ]; then
 	  cat << EOF
 	load_video
