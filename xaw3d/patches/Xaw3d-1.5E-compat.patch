From 59033c0e4242f3a09a5116b4120e5c8353f89372 Mon Sep 17 00:00:00 2001
From: Markus Steinborn <gnugv_maintainer@yahoo.de>
Date: Sat, 24 Apr 2010 16:53:58 +0200
Subject: [PATCH] Xaw3d-1.5E-compat.patch

---
 xc/lib/Xaw3d/Command.c |    2 ++
 xc/lib/Xaw3d/Label.c   |    2 ++
 xc/lib/Xaw3d/Text.c    |   11 +++++++++++
 xc/lib/Xaw3d/Text.h    |    6 ++++++
 4 files changed, 21 insertions(+), 0 deletions(-)

diff --git a/xc/lib/Xaw3d/Command.c b/xc/lib/Xaw3d/Command.c
index 5fe16b6..6e04860 100644
--- a/xc/lib/Xaw3d/Command.c
+++ b/xc/lib/Xaw3d/Command.c
@@ -91,6 +91,8 @@ static XtResource resources[] = {
    {XtNcornerRoundPercent, XtCCornerRoundPercent, XtRDimension,
         sizeof(Dimension), offset(command.corner_round), XtRImmediate,
 	(XtPointer) 25},
+   {XtNshadowWidth, XtCShadowWidth, XtRDimension, sizeof(Dimension),
+	offset(threeD.shadow_width), XtRImmediate, (XtPointer) 2},
    {XtNborderWidth, XtCBorderWidth, XtRDimension, sizeof(Dimension),
       XtOffsetOf(RectObjRec,rectangle.border_width), XtRImmediate,
       (XtPointer) 0}
diff --git a/xc/lib/Xaw3d/Label.c b/xc/lib/Xaw3d/Label.c
index 5fd2e32..8bda3a7 100644
--- a/xc/lib/Xaw3d/Label.c
+++ b/xc/lib/Xaw3d/Label.c
@@ -113,6 +113,8 @@ static XtResource resources[] = {
 	offset(label.pixmap), XtRImmediate, (XtPointer)None},
     {XtNresize, XtCResize, XtRBoolean, sizeof(Boolean),
 	offset(label.resize), XtRImmediate, (XtPointer)True},
+    {XtNshadowWidth, XtCShadowWidth, XtRDimension, sizeof(Dimension),
+	offset(threeD.shadow_width), XtRImmediate, (XtPointer) 0},
     {XtNborderWidth, XtCBorderWidth, XtRDimension, sizeof(Dimension),
          XtOffsetOf(RectObjRec,rectangle.border_width), XtRImmediate,
          (XtPointer)1}
diff --git a/xc/lib/Xaw3d/Text.c b/xc/lib/Xaw3d/Text.c
index baaba17..81ff472 100644
--- a/xc/lib/Xaw3d/Text.c
+++ b/xc/lib/Xaw3d/Text.c
@@ -3527,6 +3527,17 @@ Widget w;
   return ((TextWidget)w)->text.source;
 }
 
+Widget
+#if NeedFunctionPrototypes
+XawTextGetSink(Widget w)
+#else
+XawTextGetSink(w)
+Widget w;
+#endif
+{
+  return (((TextWidget)w)->text.sink);
+}
+
 void
 #if NeedFunctionPrototypes
 XawTextDisplayCaret (Widget w,
diff --git a/xc/lib/Xaw3d/Text.h b/xc/lib/Xaw3d/Text.h
index 9157927..d68f94e 100644
--- a/xc/lib/Xaw3d/Text.h
+++ b/xc/lib/Xaw3d/Text.h
@@ -274,6 +274,12 @@ extern Widget XawTextGetSource(
 #endif
 );
 
+extern Widget XawTextGetSink(
+#if NeedFunctionPrototypes
+    Widget		/* w */
+#endif
+);
+
 extern XawTextPosition XawTextSearch(
 #if NeedFunctionPrototypes
     Widget			/* w */,
-- 
1.6.1

